@page
@model CallOfIT.Views.Usuarios.CadastrarModel
@{
}

<link rel="stylesheet" href="~/css/cadastrarUsuario.css" asp-append-version="true" />

<div class="card">

    @if (TempData.ContainsKey("MsgError"))
    {
        <div id="MsgError" class="alert alert-danger alert-dismissible text-center" role="alert">
            @TempData["MsgError"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    <div class="card-header d-flex align-items-center">
        <img src="~/Images/gif/profile.gif" class="icon-css mr-3">
        <h4 class="text-center mb-0 flex-grow-1">Cadastrar Usuário</h4>
    </div>

    <div class="card-body">
        <form class="row g-3" asp-action="CadastrarUsuario" asp-controller="Usuarios" method="post">
            <div class="col-md-12">
                <label for="inputName" class="form-label">Usuário</label>
                <input type="text" class="form-control" id="inputUsername" name="username">
            </div>

            <div class="col-md-6">
                <label for="inputPassword" class="form-label">Senha</label>
                <input type="password" class="form-control" id="inputPassword" name="password">
            </div>

            <div class="col-md-6">
                <label for="inputConfirmPassword" class="form-label">Confirmar Senha</label>
                <input type="password" class="form-control" id="inputConfirmPassword" name="confirmPassword">
            </div>

            <div class="col-12">
                <label for="inputEmail" class="form-label">Email</label>
                <input type="email" class="form-control" id="inputEmail" placeholder="Example@Example.com" name="email">
            </div>

            <div class="col-12">
                <label for="inputFullName" class="form-label">Nome Completo</label>
                <input type="text" class="form-control" id="inputFullName" name="fullname">
            </div>

            <div class="col-12">
                <label for="inputUserType" class="form-label">Tipo de Usuário</label>
                <select id="inputUserType" class="form-select" name="userType">
                @{
                    if(ViewBag.TipoUsuario != null)
                    {
                        foreach (var tipoUsuario in ViewBag.TipoUsuario)
                        {
                            <option value="@tipoUsuario.id">@tipoUsuario.descricao</option>                            
                        }
                        <option value="@null" selected>Selecione o Tipo do Usuário</option>
                    }
                }                    
                </select>
            </div>

            <div class="col-12 status-style">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="inputStatus" , name="status">
                    <label class="form-check-label" for="inputStatus">
                        Status
                    </label>
                </div>
            </div>

            <div class="d-flex justify-content-between">
                <div class="col-6">
                    <button type="button" class="btn btn-danger" onclick="location.href='@Url.Action("Index", "Usuarios")'">Voltar</button>
                </div></>
                <div class="col-6">
                    <button type="submit" class="btn btn-primary">Cadastrar</button>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    setTimeout(function () {
        var errorAlert = document.getElementById('MsgError');
        errorAlert.remove('MsgError');
    }, 5000);
</script>
